(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"3Uja":function(e,t,a){"use strict";a.r(t),a.d(t,"loginProcess",(function(){return s}));var o=a("mUSF");window.emailLog="",window.passLog="",window.keyLog="";const s=e=>{"quit"==e.trim().toLowerCase()?(emailLog="",passLog="",keyLog="",Object(o.f)(),Object(o.c)("Login process exited"),loginState=0):1==loginState?(Object(o.g)(),firebase.auth().fetchSignInMethodsForEmail(e).then(t=>{t.length?(emailLog=e,Object(o.c)(`The email address you have entered is:<span class='highlight'> ${e}</span><br><hr><small style='opacity:0.7'>Enter "Y" to continue or "N" to re-enter your email. You can exit the login process at any time by entering "Quit".</small>`),loginState=2):(Object(o.b)('THIS EMAIL IS NOT REGISTERED. PLEASE ENTER ANOTHER EMAIL OR YOU CAN CHOOSE TO REGISTER <br><hr><small style=\'opacity:0.7\'>If you wish to register, enter "Quit" to exit the login process. After that, enter "Register" to register.</small>'),loginState=1),Object(o.h)()}).catch(e=>{Object(o.h)(),Object(o.b)(String(e).toUpperCase()+"<br><hr><small style='opacity:0.7'>PLEASE TRY AGAIN.</small>"),loginState=1})):2==loginState?"y"==e.trim().toLowerCase()?(Object(o.c)("Please enter your password"),loginState=3):"n"==e.trim().toLowerCase()?(Object(o.c)("Please enter your email again"),loginState=1):(Object(o.b)('UNRECOGNISED INPUT, PLEASE ENTER "Y", "N" OR "Quit"'),loginState=2):3==loginState?(Object(o.g)(),passLog=e,$d.append('<blockquote id="waitingToAdd">Authenticating user...</blockquote>'),Object(o.a)(),firebase.auth().setPersistence(firebase.auth.Auth.Persistence.LOCAL).then(()=>firebase.auth().signInWithEmailAndPassword(emailLog,passLog).then(e=>{reloadInfo(),5==clearance&&""!=keyphrase?(keyLog=keyphrase,firebase.auth().signOut().then(()=>{holder=defaultHolder,Object(o.d)('You are attempting to log into an account with a Level 5 Security Clearance. To safeguard the Foundation\'s internal confidential documents, SCiPNET has blocked your request. Please enter the corresponding personal authorization keyphrase to unlock and access your account.<br><hr><small style="opacity:0.7">Hack: Enter "Answer" to retrieve your personal authorization keyphrase.</small>'),Object(o.h)(),loginState=4})):(Object(o.c)(`Login successful - <span class="highlight">Welcome back, ${displayName}</span>`),Object(o.h)(),Object(o.f)(),loginState=0)}).catch(e=>{"auth/wrong-password"==e.code?(Object(o.b)("PASSWORD INVALID, PLEASE ENTER YOUR PASSWORD AGAIN"),loginState=3):(Object(o.b)(e.message.toUpperCase()+"<br><hr><small style='opacity:0.7'>PLEASE ENTER YOUR EMAIL AGAIN OR YOU CAN CHOOSE TO EXIT BY ENTERING \"Quit\".</small>"),loginState=1),Object(o.h)()}))):4==loginState&&(e==keyLog?(Object(o.g)(),firebase.auth().setPersistence(firebase.auth.Auth.Persistence.LOCAL).then(()=>firebase.auth().signInWithEmailAndPassword(emailLog,passLog).then(e=>{reloadInfo(),Object(o.c)(`Authentication accepted. <span class="highlight">Welcome back, ${displayName}</span>`),Object(o.h)(),Object(o.f)(),loginState=0,keyLog=""}))):"answer"==e.toLowerCase().trim()?(Object(o.c)(`Your personal authorization keyphrase is: <span class="highlight">${keyLog}</span>`),$("#input").val(keyLog)):Object(o.b)("INCORRECT AUTHENTICATION KEYPHRASE"))}}}]);