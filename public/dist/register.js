"use strict";(self.webpackChunkscipnet_terminal=self.webpackChunkscipnet_terminal||[]).push([[224],{4007:(e,t,s)=>{s.r(t),s.d(t,{registerProcess:()=>a});var i=s(7025);window.userReg="",window.clrReg="",window.classReg="",window.titleReg="",window.emailReg="",window.siteReg="",window.passReg="",window.keyReg="";const a=e=>{var t=e;"quit"==(e=e.toLowerCase().trim())?((0,i.oG)(),(0,i.s8)("Registration process exited"),registerState=0,userReg="",clrReg="",titleReg="",emailReg="",passReg="",classReg="",siteReg="",keyReg=""):e.includes("|-|")||e.includes("/")?(0,i.hS)('INPUT CONTAINS ILLEGAL STRING "|-|" or "/", PLEASE AVOID INCLUDING THIS STRING IN YOUR INPUT AND TRY AGAIN'):1==registerState?"y"==e?((0,i.s8)('<hr><span class="redLabels">Registration Protocol initiated</span><br><span style="color:#98FB98">[âœ“] </span>Registration confirmed<br>Please enter your username as your identity in the Foundation\'s database<hr>'),registerState=2):"n"==e?((0,i.s8)("Registration aborted, request for registration has been discarded"),(0,i.oG)(),registerState=0):(0,i.hS)('UNRECOGNISED INPUT, PLEASE ENTER "Y", "N" OR "Quit"'):2==registerState?t.length<101?(userReg=t,(0,i.s8)("Please enter your email address you wish to register with"),registerState=2.5):((0,i.hS)("USERNAME TOO LONG, PLEASE CHOOSE ANOTHER ONE."),registerState=2):2.5==registerState?((0,i.ZD)(),firebase.auth().fetchSignInMethodsForEmail(t).then((t=>{t.length?((0,i.GV)(),registerState=2.5,(0,i.hS)('WE ALREADY HAVE AN USER WITH A CORRESPONDING EMAIL ADDRESS IN OUR DATABASE. PLEASE USE ANOTHER EMAIL OR TRY LOGGING IN<br><hr><small style="opacity:0.7">If you wish to login, enter "Quit" to exit the registration process. After that, enter "Login" to login yourself.</small>')):(emailReg=e,registerState=3,a("clearance"))})).catch((e=>{(0,i.GV)(),(0,i.hS)(`${String(e).toUpperCase()}<br><hr> <small style='opacity:0.7'>PLEASE TRY AGAIN.</small>`),registerState=2.5}))):3==registerState?((0,i.s8)("Please click and select your Foundation security clearance (Available Security Clearance Level is 0 - 5)<br><ul id='clearanceList' class='listClass'><li>Level 0 (For Official Use Only)</li><li>Level 1 (Confidential)</li><li>Level 2 (Restricted)</li><li>Level 3 (Secret)</li><li>Level 4 (Top Secret)</li><li style='color:red'>Level 5 (Thaumiel)</li></ul><hr><small style='opacity:0.7'>Foundation security clearances granted to personnel represent the highest level or type of information to which they can be granted access. </small>"),$d.find("#clearanceList li").unbind("click").bind("click",(function(){$(this).parent("#clearanceList").find("li").unbind("click"),$(this).parent("#clearanceList").attr("id",""),$(this).parent("ul").attr("class",""),$(this).addClass("disabledList"),$(this).index()>5||$(this).index()<0?((0,i.hS)("ERROR OCCURED, PLEASE TRY AGAIN"),registerState=3,a("error")):(clrReg=$(this).index(),$d.append($(this).text()),(0,i.s8)(`Foundation security clearance selected: <span class="highlight">Level ${$(this).index()}</span><br><br><hr>Please click and select your personnel classification<br><ul id='personnelList' class='listClass'><li>Class A (Deemed essential to Foundation strategic operations)</li><li>Class B (Deemed essential to local Foundation operations)</li><li>Class C (Personnel with direct access to most anomalies not deemed strictly hostile or dangerous)</li><li>Class D (expendable personnel used to handle extremely hazardous anomalies)</li><li>Class E (Provisional classification applied to field agents and containment personnel)</li></ul><hr><small style='opacity:0.7'>Classifications are assigned to personnel based on their proximity to potentially dangerous anomalous objects, entities, or phenomena. </small>`),l())}))):4==registerState?t.length<101?(titleReg=t,(0,i.s8)("Please enter your working site<br><hr><small style='opacity:0.7'>The location where you work. (e.g. Site-103, Site-56)</small>"),registerState=5):((0,i.hS)("INPUTTED STAFF TITLE TOO LONG, PLEASE CHOOSE ANOTHER ONE."),registerState=4):5==registerState?t.length<101?(siteReg=t,(0,i.s8)("Please now enter a password for your new account"),registerState=6):((0,i.hS)("INPUTTED WORKING SITE TOO LONG, PLEASE CHOOSE ANOTHER ONE."),registerState=5):6==registerState?t.length<6?(0,i.hS)("ERROR: PASSWORD SHOULD BE AT LEAST 6 CHARACTERS"):((0,i.ZD)(),passReg=t,$d.append('<blockquote id="waitingToAdd">Registering and encrypting user\'s information...</blockquote>'),(0,i.$6)(),5==clrReg?(errorEffect(),registerState=7):r()):7==registerState?(keyReg=t,keyReg.length>500?((0,i.hS)("KEYPHRASE MUST NOT EXCEED 500 CHARACTERS, PLEASE CHOOSE ANOTHER ONE."),registerState=7):((0,i.ZD)(),$d.append('<blockquote id="waitingToAdd">Keyphrase received, now registering and encrypting user\'s information...</blockquote>'),(0,i.$6)(),r())):8==registerState&&(emailReg=t,r())};function r(){(0,i.ZD)(),firebase.auth().setPersistence(firebase.auth.Auth.Persistence.LOCAL).then((()=>firebase.auth().createUserWithEmailAndPassword(emailReg,passReg).then((function(){firebase.auth().currentUser.updateProfile({displayName:userReg,photoURL:`${clrReg}|-|${titleReg}|-|${classReg}|-|${siteReg}|-|${keyReg}`}).then((function(){UserTag=`${userReg}#${Math.ceil(1e4*Math.random())}`,checkUsernameAva("normal",(function(){}))}),(function(e){(0,i.hS)(`${String(e).toUpperCase()}<br><hr> <small style="opacity:0.7">Please enter your password again or you can enter "Quit" to exit the registration process.</small>`),(0,i.GV)(),""==keyReg?registerState=6:registerState=7}))})).catch((function(e){(0,i.GV)(),"auth/invalid-email"==e.code?((0,i.hS)(`PLEASE ENTER A VALID EMAIL (The email you have entered: <span class="highlight">${emailReg}</span>)<br><hr> <small style="opacity:0.7">Please enter your email again or you can enter "Quit" to exit the registration process.</small>`),registerState=8):"auth/email-already-in-use"==e.code?((0,i.hS)(`THE PROVIDED EMAIL IS ALREADY IN USE BY AN EXISTING USER (The email you have entered: <span class="highlight">${emailReg}</span>)<br><hr> <small style="opacity:0.7">Please enter your email again or you can enter "Quit" to exit the registration process.</small>`),registerState=8):((0,i.hS)(`${String(e).toUpperCase()}<br><hr> <small style="opacity:0.7">Please enter your password again or you can enter "Quit" to exit the registration process.</small>`),registerState=6)}))))}function l(){$d.find("#personnelList li").unbind("click").bind("click",(function(){$(this).parent("#personnelList").find("li").unbind("click"),$(this).parent("#personnelList").attr("id",""),$(this).parent("ul").attr("class",""),$(this).addClass("disabledList"),/^[A-E]$/i.test($(this).text().charAt(6))?(classReg=$(this).text().charAt(6),$d.append($(this).text()),(0,i.s8)(`Personnel classification selected: <span class="highlight">${$(this).text()}</span><br><br><hr>Please now enter your staff title</span><hr><small style='opacity:0.7'>General occupational titles that are typically used in the Foundation. (e.g. Containment Specialist, Researcher)</small>`),(0,i.GV)(),registerState=4):((0,i.hS)("ERROR OCCURED, PLEASE TRY AGAIN"),(0,i.s8)("Please click and select your personnel classifications<br><ul id='personnelList' class='listClass'><li>Class A (Deemed essential to Foundation strategic operations)</li><li>Class B (Deemed essential to local Foundation operations)</li><li>Class C (Personnel with direct access to most anomalies not deemed strictly hostile or dangerous)</li><li>Class D (expendable personnel used to handle extremely hazardous anomalies)</li><li>Class E (Provisional classification applied to field agents and containment personnel)</li></ul><hr><small style='opacity:0.7'>Classifications are assigned to personnel based on their proximity to potentially dangerous anomalous objects, entities, or phenomena. </small>"),l())}))}}}]);